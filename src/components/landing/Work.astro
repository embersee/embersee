---
import Button from "../ui/Button.astro";
import Heading from "../ui/Heading.astro";
import MyStack from "../ui/MyStack.astro";
import ProjectCard from "../ui/ProjectCard.astro";
import Spacer from "../utils/Spacer.astro";
const allProjects = await Astro.glob("../../pages/project/*.md");
---

<section id="work" class="mx-auto transition-all scroll-mt-20">
  <Heading
    title="Selected Works."
    subtitle="I love storytelling through exploring unique design interfaces."
    colour="text-frost"
    index="work"
  />

  <Spacer />

  <div class="md:flex gap-6 space-y-10 md:space-y-0">
    <div class="flex-1 flex flex-col justify-end text-frost">
      <ul class="space-y-6">
        {
          allProjects
            .slice(0, 4)
            .map((project) => (
              <ProjectCard
                href={project.url}
                title={project.frontmatter.title}
                desc={project.frontmatter.description}
                index={project.frontmatter.id}
                wip={project.frontmatter.wip}
              />
            ))
        }
      </ul>

      <div class="self-end pt-6">
        <Button href="/projects" content="see more projects" />
      </div>
    </div>
    <div class="md:w-[40%]">
      <MyStack />
    </div>
  </div>
</section>
